"0","dat <- noquote(readLines(""index.html""))  # read data with readLines"
"2","incomplete final line found on 'index.html'"
"0","dat2 <- noquote(str_replace_all(dat, ""[\\r\\n\\t]+"", "" ""))"
"0","dat3 <- noquote(str_replace_all(dat2, ""[\""]"", '""'))"
"0",""
"0",""
"0","text_to_insert <- html_4"
"0",""
"0","insert_after <- which(dat %in% '\t<div id=""main"" role=""main"" class=""container"">')"
"0","insert_before <- grep('<div class=""wrapper-footer"">', dat3)"
"0",""
"0","insert_line_at <- function(dat, to_insert, insert_after, insert_before){"
"0","  pre <- dat[1:insert_after]"
"0","  post <- dat[(insert_before):length(dat)]"
"0","  return(c(pre, to_insert, post))"
"0","}"
"0",""
"0","dat_inserted <- insert_line_at(dat3, text_to_insert, insert_after=insert_after, insert_before = insert_before)"
"0",""
"0","dat_inserted2 = gsub(""\u00A0"", "" "", dat_inserted) # this removes the unbreakable space that appeared for some unkown reason..."
"0",""
"0","writeLines(dat_inserted2, ""publications/publications.html"") # write to Publication list pages"
"0",""
